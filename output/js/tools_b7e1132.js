function xAjax(t){if(this===window)return new xAjax(t);var t=t||{};this.type=t.type,this.data=t.data,this.url=t.url,this.success=t.success,this.fail=t.fail,this.dataType=t.dataType,this.cache=t.cache===!1?!1:!0,this.init()}function $(t,e){if("string"!=typeof t&&(t===window||t===document))return t;if(""===t.trim())return!1;if("string"==typeof t){var n=t.trim().substr(0,1);return"#"===n?document.getElementById(t.replace(/#/,"")):e===!0?document.querySelectorAll(t):document.querySelector(t)}}function lazyLoad(t){var t=t||{};this.obj=t.obj,this.scope=t.scope||0,this.init()}function touchControl(t){t.eventsBind("touchstart",function(t){var e=t||window.event;startY=e.touches[0].clientY,e.stopPropagation()}),t.eventsBind("touchmove",function(t){var e=t||window.event,n=this;e.stopPropagation(),moveY=e.touches[0].clientY,startY-moveY>0&&n.scrollTop+n.offsetHeight>=n.scrollHeight-20&&e.preventDefault(),0>startY-moveY&&n.scrollTop<=20&&e.preventDefault()})}var events={index:0};Object.prototype.eventsBind=function(t,e,n){var i=this;if(!i||"function"!=typeof e)return!1;if(0===i.length&&i!=i.window)return!1;var s=function(t){var i=t||window.event,s=n.trim().substr(0,1),o=this,r=[];if(i.path)r=i.path;else for(var a=i.target;a!==window;)null===a?(r.push(window),a=window):(r.push(a),a=a.parentNode);if("."===s||"#"===s){if("."===s)for(var c=0,l=r.length;l>c;c+=1){if(r[c]===o)return!1;if(r[c].classList.contains(n.replace(".","")))return e.call(r[c],i),!1}if("#"===s)for(var c=0,l=r.length;l>c;c+=1){if(r[c]===o)return!1;if(r[c].id===n.replace("#",""))return e.call(r[c],i),!1}return!1}for(var c=0,l=r.length;l>c;c+=1){if(r[c]===o)return!1;if(r[c].tagName===n.toLocaleUpperCase())return e.call(r[c],i),!1}return!1};if(!n){if(i.length&&1!==i.length)return Array.prototype.forEach.call(i,function(n){if(void 0===events[n.dataset.bindcount]){events.index+=1;var i=events.index;n.dataset.bindcount=i,events[i]={}}!events[n.dataset.bindcount][t]&&(events[n.dataset.bindcount][t]=[]),events[n.dataset.bindcount][t].push(e);var s=events[n.dataset.bindcount][t].length;n.addEventListener(t,events[n.dataset.bindcount][t][s-1],!1)}),!1;var i=i[0]||i;if(i===window){if(void 0===events[i.bindcount]){events.index+=1;var o=events.index;i.bindcount=o,events[o]={}}!events[i.bindcount][t]&&(events[i.bindcount][t]=[]),events[i.bindcount][t].push(e);var r=events[i.bindcount][t].length;i.addEventListener(t,events[i.bindcount][t][r-1],!1)}else{if(void 0===events[i.dataset.bindcount]){events.index+=1;var o=events.index;i.dataset.bindcount=o,events[o]={}}!events[i.dataset.bindcount][t]&&(events[i.dataset.bindcount][t]=[]),events[i.dataset.bindcount][t].push(e);var r=events[i.dataset.bindcount][t].length;i.addEventListener(t,events[i.dataset.bindcount][t][r-1],!1)}return!1}if(!i.length||1===i.length){var i=i[0]||i;if(i===window){if(void 0===events[i.bindcount]){events.index+=1;var o=events.index;i.bindcount=o,events[o]={}}!events[i.bindcount][t]&&(events[i.bindcount][t]=[]),events[i.bindcount][t].push(s);var r=events[i.bindcount][t].length;i.addEventListener(t,events[i.bindcount][t][r-1],!1)}else{if(void 0===events[i.dataset.bindcount]){events.index+=1;var o=events.index;i.dataset.bindcount=o,events[o]={}}!events[i.dataset.bindcount][t]&&(events[i.dataset.bindcount][t]=[]),events[i.dataset.bindcount][t].push(s);var r=events[i.dataset.bindcount][t].length;i.addEventListener(t,events[i.dataset.bindcount][t][r-1],!1)}return!1}i.forEach(function(e){if(void 0===events[e.dataset.bindcount]){events.index+=1;var n=events.index;e.dataset.bindcount=n,events[n]={}}!events[e.dataset.bindcount][t]&&(events[e.dataset.bindcount][t]=[]),events[e.dataset.bindcount][t].push(s);var i=events[e.dataset.bindcount][t].length;e.addEventListener(t,events[e.dataset.bindcount][t][i-1],!1)})},Object.prototype.eventsRemove=function(t){var e=this;return e?0===e.length&&e!=e.window?!1:(e.length&&e.length>=1?Array.prototype.forEach.call(e,function(e){events[e.dataset.bindcount]&&(events[e.dataset.bindcount][t].length>1?events[e.dataset.bindcount][t].forEach(function(n){e.removeEventListener(t,n)}):e.removeEventListener(t,events[e.dataset.bindcount][t][0]))}):e===window?events[e.bindcount]&&(events[e.bindcount][t].length>1?events[e.bindcount][t].forEach(function(n){e.removeEventListener(t,n)}):e.removeEventListener(t,events[e.bindcount][t][0])):events[e.dataset.bindcount]&&(events[e.dataset.bindcount][t].length>1?events[e.dataset.bindcount][t].forEach(function(n){e.removeEventListener(t,n)}):e.removeEventListener(t,events[e.dataset.bindcount][t][0])),e===window?events[e.bindcount][t]=[]:e.length&&e.length>=1?[].forEach.call(e,function(e){events[e.dataset.bindcount][t]=[]}):events[e.dataset.bindcount][t]=[],e):!1},xAjax.prototype={init:function(){this.createXMLHttpRequest()},createXMLHttpRequest:function(){var t="",e=this;if(this.data)if("[object Object]"===Object.prototype.toString.call(this.data)){var n=Object.keys(this.data);Object.keys(this.data).length>0&&n.forEach(function(i,s){"[object Array]"===Object.prototype.toString.call(e.data[i])?e.data[i].forEach(function(e,o,r){t+=o+1>=r.length&&n.length<=s+1?i+"="+e:i+"="+e+"&"}):t+=n.length>s+1?i+"="+e.data[i]+"&":i+"="+e.data[i]})}else console.error("data not a Object");if(this.httpRequest=new XMLHttpRequest,!this.httpRequest)return alert("不支持XMLHttpRequert！"),!1;if(this.httpRequest.onreadystatechange=this.readystatechangeFn.bind(this),"post"===this.type.toLocaleLowerCase())this.httpRequest.open(this.type.toLowerCase(),this.url,!0),this.httpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.httpRequest.send(t);else{var i=t?this.cache?this.url+"?"+t:this.url+"?"+t+"&_="+(new Date).getTime():this.cache?this.url:this.url+"?_="+(new Date).getTime();this.httpRequest.open(this.type.toLowerCase(),i,!0),this.httpRequest.send()}},readystatechangeFn:function(){this.httpRequest.readyState===XMLHttpRequest.DONE&&(200===this.httpRequest.status?"function"==typeof this.success&&this.success("json"===this.dataType?JSON.parse(this.httpRequest.responseText):this.httpRequest.responseText):"function"==typeof this.fail&&this.fail("json"===this.dataType?JSON.parse(this.httpRequest.responseText):this.httpRequest.responseText))}},Object.prototype.xFind=function(t){var e=this,n=[];if(""===t.trim())return e;if(e.length&&e.length>=1)[].forEach.call(e,function(e){e.querySelectorAll(t).length>0&&(n=n.concat([].slice.call(e.querySelectorAll(t))))});else if("string"==typeof t){var i=t.trim().substr(0,1);"#"===i?n.push(e.getElementById(t.replace(/#/,""))):n=n.concat([].slice.call(e.querySelectorAll(t)))}return n},Object.prototype.siblings=function(t){var e=[],n=this[0]||this,i=n;if("undefined"!=typeof t&&""!==t.trim())if("undefined"!=typeof i.nextElementSibling){for(;i.nextElementSibling;)("."===t.trim().substr(0,1)&&i.nextElementSibling.classList.contains(t.trim().substr(0,t.trim().length))||t.trim().toLocaleUpperCase()===i.nextElementSibling.tagName)&&e.push(i.nextElementSibling),i=i.nextElementSibling;for(i=n;i.previousElementSibling;)("."===t.trim().substr(0,1)&&i.previousElementSibling.classList.contains(t.trim().substr(0,t.trim().length))||t.trim().toLocaleUpperCase()===i.previousElementSibling.tagName)&&e.push(i.previousElementSibling),i=i.previousElementSibling}else{for(;i.nextSibling;)(1===i.nextSibling.nodeType&&"."===t.trim().substr(0,1)&&i.nextSibling.classList.contains(t.trim().substr(0,t.trim().length))||1===i.nextSibling.nodeType&&t.trim().toLocaleUpperCase()===i.nextSibling.tagName)&&e.push(i.nextSibling),i=i.nextSibling;for(i=n;i.previousSibling;)(1===i.previousSibling.nodeType&&"."===t.trim().substr(0,1)&&i.previousSibling.classList.contains(t.trim().substr(0,t.trim().length))||1===i.previousSibling.nodeType&&t.trim().toLocaleUpperCase()===i.previousSibling.tagName)&&e.push(i.previousSibling),i=i.previousSibling}else if("undefined"!=typeof i.nextElementSibling){for(;i.nextElementSibling;)e.push(i.nextElementSibling),i=i.nextElementSibling;for(i=n;i.previousElementSibling;)e.push(i.previousElementSibling),i=i.previousElementSibling}else{for(;i.nextSibling;)1===i.nextSibling.nodeType&&e.push(i.nextSibling),i=i.nextSibling;for(i=n;i.previousSibling;)1===i.previousSibling.nodeType&&e.push(i.previousSibling),i=i.previousSibling}return e},Object.prototype.parent=function(){var t=this;return t.length?t:t.parentNode},Object.prototype.parents=function(t){var e=this,n=[],i=e.parentNode;if(e.length)return e;if(t){var s=t.substr(0,1);if("."===s||"#"===s){if("."===s)for(;i!==document;)i.classList.contains(t.replace(".",""))&&n.push(i),i=i.parentNode;if("#"===s)for(;i!==document;)i.id===t.replace("#","")&&n.push(i),i=i.parentNode}else for(;i!==document;)i.tagName.toLocaleLowerCase()===t&&n.push(i),i=i.parentNode}else for(;i!==document;)n.push(i),i=i.parentNode;return n},Object.prototype.css=function(t,e){var n=this,i=Object.prototype.toString.call(t).split(" ")[1].replace("]",""),s=function(t){var e=t.indexOf("-"),t=t;return-1!==e?t=t.substr(0,e)+t.replace("-","").substr(e,1).toLocaleUpperCase()+t.substring(e+2,t.length):t};if("undefined"==typeof t||n===window||n===document)return n;if("undefined"==typeof e){if("String"===i){var n=n[0]||n;return getComputedStyle(n,null)[s(t)]}"Object"===i&&(-1!==Object.prototype.toString.call(n).indexOf("NodeList")?[].forEach.call(n,function(e){Object.keys(t).forEach(function(n){e.style[s(n)]=t[n]})}):Object.keys(t).forEach(function(e){n.style[s(e)]=t[e]}))}else"String"===i&&(-1!==Object.prototype.toString.call(n).indexOf("NodeList")?[].forEach.call(n,function(n){n.style[s(t)]=e}):n.style[s(t)]=e);return n},Object.prototype.index=function(){var t,e=this;return Array.prototype.forEach.call(e.parentNode.children,function(n,i){e===n&&(t=i)}),void 0===t?-1:t},Object.prototype.addClass=function(t){var e=this;return t&&null!==e&&0!==e.length?(e.length?Array.prototype.forEach.call(e,function(e){e.classList.add(t)}):e.classList.add(t),e):e},Object.prototype.removeClass=function(t){var e=this;return t&&null!==e&&0!==e.length?(e.length?Array.prototype.forEach.call(e,function(e){e.classList.remove(t)}):e.classList.remove(t),e):e},Object.prototype.hasClass=function(t){var e=this;return t&&null!==e&&0!==e.length?e.length?e[0].classList.contains(t):e.classList.contains(t):!1},lazyLoad.prototype={init:function(){this.loadTop=window.document.documentElement.clientHeight-this.scope,this.createLoadList(),this.loadImg(),this.scroll()},createLoadList:function(){var t=this;t.loadList=Array.prototype.map.call(t.obj,function(t){return t})},loadImg:function(){for(var t=this,e=0;e<t.loadList.length;e+=1)t.loadList[e].getBoundingClientRect().top<t.loadTop&&(t.loadList[e].src=t.loadList[e].dataset.src,t.loadList.splice(e,1),e--)},scroll:function(){var t=this,e=null;window.onscroll=function(){void 0===t.loadList,0===t.loadList.length?window.onscroll=null:(e&&clearTimeout(e),e=setTimeout(function(){t.loadImg()},300))}}},Object.prototype.xAppend=function(t){var e=this;if(1===e.nodeType)if(1===t.nodeType)e.appendChild(t);else{var n=document.createElement("div"),i=document.createDocumentFragment();n.innerHTML=t;for(var s=0,o=n.children.length;o>s;s+=1){var r=n.children[s].cloneNode(!0);i.appendChild(r)}e.appendChild(i)}return e};